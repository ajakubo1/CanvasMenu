{"version":3,"sources":["src/menu.js","src/element.js","src/button.js","src/example.js"],"names":["CM","Menu","config","self","this","elements","canvas","width","height","ctx","getContext","scaleX","scaleY","focused","undefined","animated","animation","running","updateTime","tickLength","tickCount","tickMax","Number","MAX_VALUE","autorescale","listener_mousedown","event","x","pageX","offsetLeft","y","pageY","offsetTop","inRange","swapState","ELEMENT_STATES","down","redraw","trigger","listener_mousemove","i","idle","length","over","listener_mouseup","getState","up","newState","setState","redrawMenu","clearRect","drawImage","getCanvas","getX","getY","rescale","values","style","window","getComputedStyle","transform","getPropertyValue","split","run","frameTime","Math","floor","requestAnimationFrame","prototype","isVisible","init","addEventListener","performance","now","destroy","removeEventListener","add","button","push","setMenu","updateScale","scale","updateScaleX","updateScaleY","create","componentType","charAt","toUpperCase","slice","component","Error","Element","x_limit","y_limit","tick","events","click","mousedown","mouseup","mousemove","mouseenter","mouseleave","state","init_canvas","document","createElement","on","internalRedraw","context","fn","call","fillStyle","color","fillRect","eventType","handlers","menu","handler","Object","keys","step","Button","text","font","textAlign","textBaseline","fillText","constructor","menuCanvas","cursor","Example"],"mappings":"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","file":"dist/canvasmenu.map"}