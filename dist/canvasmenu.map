{"version":3,"sources":["src/menu.js","src/button.js"],"names":["CM","Menu","config","self","this","elements","canvas","width","height","ctx","getContext","scaleX","scaleY","focused","undefined","animated","animation","running","updateTime","tickLength","tickCount","tickMax","Number","MAX_VALUE","autorescale","listener_mousedown","event","x","pageX","offsetLeft","y","pageY","offsetTop","inRange","swapButtonState","ELEMENT_STATES","down","redrawBackground","trigger","listener_mousemove","i","idle","length","over","listener_mouseup","getState","up","newState","setState","redrawButtons","clearRect","drawImage","getCanvas","getX","getY","rescale","values","style","window","getComputedStyle","transform","getPropertyValue","split","run","frameTime","Math","floor","requestAnimationFrame","prototype","isVisible","init","addEventListener","performance","now","destroy","removeEventListener","add","button","push","setMenu","updateScale","scale","updateScaleX","updateScaleY","create","componentType","charAt","toUpperCase","slice","component","Error","Button","x_limit","y_limit","state","tick","text","font","events","click","mousedown","mouseup","mousemove","mouseenter","mouseleave","init_canvas","document","createElement","color","redraw","context","fn","call","fillStyle","fillRect","textAlign","textBaseline","fillText","on","menuCanvas","menu","cursor","step","eventType","handlers","handler","Object","keys"],"mappings":"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","file":"dist/canvasmenu.min.js"}