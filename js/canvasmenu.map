{"version":3,"sources":["js/canvasmenu.js"],"names":["CM","Menu","config","self","this","elements","canvas","width","height","ctx","getContext","scaleX","scaleY","focused","undefined","animated","animation","running","updateTime","tickLength","tickCount","tickMax","Number","MAX_VALUE","autorescale","listener_mousedown","event","x","pageX","offsetLeft","y","pageY","offsetTop","inRange","swapButtonState","BUTTON_STATES","down","redrawBackground","trigger","listener_mousemove","i","idle","length","over","listener_mouseup","getState","up","newState","setState","redrawButtons","clearRect","drawImage","getCanvas","getX","getY","rescale","values","style","window","getComputedStyle","transform","getPropertyValue","split","run","frameTime","Math","floor","requestAnimationFrame","prototype","isVisible","init","addEventListener","performance","now","destroy","removeEventListener","add","button","push","setMenu","updateScale","scale","updateScaleX","updateScaleY","Button","x_limit","y_limit","state","tick","text","font","events","click","mousedown","mouseup","mousemove","mouseenter","mouseleave","init_canvas","document","createElement","color","redraw","context","fn","call","fillStyle","fillRect","textAlign","textBaseline","fillText","menuCanvas","menu","cursor","step","eventType","handlers","on","handler","Error","Object","keys","createButton"],"mappings":"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","file":"js/canvasmenu.min.js"}