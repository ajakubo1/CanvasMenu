{"version":3,"sources":["js/canvasmenu.js"],"names":["Menu","config","self","this","buttons","canvas","width","height","ctx","getContext","scaleX","scaleY","focused","undefined","animated","animation","running","updateTime","tickLength","tickCount","tickMax","Number","MAX_VALUE","autorescale","listener_mousedown","event","x","pageX","offsetLeft","y","pageY","offsetTop","inRange","swapButtonState","BUTTON_STATES","down","redrawBackground","listener_mousemove","i","idle","length","over","listener_mouseup","up","click","newState","setState","redrawButtons","clearRect","drawImage","getCanvas","getX","getY","rescale","values","style","window","getComputedStyle","transform","getPropertyValue","split","run","frameTime","Math","floor","requestAnimationFrame","Button","x_limit","y_limit","state","tick","text","font","init_canvas","document","createElement","color","redraw","context","fn","call","fillStyle","fillRect","textAlign","textBaseline","fillText","prototype","isVisible","init","addEventListener","performance","now","destroy","removeEventListener","appendButton","button","push","setParentMenu","updateScale","scale","updateScaleX","updateScaleY","menuCanvas","menu","cursor","step","clickHandler","handler","onclick"],"mappings":"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","file":"js/canvasmenu.min.js"}